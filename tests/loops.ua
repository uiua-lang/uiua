# Reduce
⍤⤙≍ [1 2 3] /⊂[1 2 3]
⍤⤙≍ [1 2 3 4 5 6] /⊂[1_2 3_4 5_6]
⍤⤙≍ [12 15 18] /+ [1_2_3 4_5_6 7_8_9]
⍤⤙≍ [] /× ↯3_0 0
⍤⤙≍ [1 1 1] /× ↯0_3 0
⍤⤙≍ ⊃/-(⊣\-) [1 2 3 4 5]
⍤⤙≍ ⊃/˜-(⊣\˜-) [1 2 3 4 5]
⍤⤙≍ ⊃/-(⊣\-) ÷2[1 2 3 4 5]
⍤⤙≍ ⊃/˜-(⊣\˜-) ÷2[1 2 3 4 5]

⍤⤙≍ 3 /↥ [1 2 3 NaN]
⍤⤙≍ 1 /↧ [1 2 3 NaN]
⍤⤙≍ 3 /↥ [NaN 3 2 1]
⍤⤙≍ 1 /↧ [NaN 3 2 1]

# Deep reduce
A ← ↯2_3_4⇡24
⍤⤙≍ ⊣A /↥ A
⍤⤙≍ [8_9_10_11 20_21_22_23] ≡/↥ A
⍤⤙≍ [3_7_11 15_19_23] ≡≡/↥ A
⍤⤙≍ ↯6_4 A /⊂ A
⍤⤙≍ ↯2_12 A ≡/⊂ A
⍤⤙≍ A ≡≡/⊂ A
⍤⤙≍ ˙⊟∞ ≡/↧ ↯2_0e
⍤⤙≍ ↯2_0e ≡/↧ ↯2_2_0e
⍤⤙≍ ˙⊟˙⊟∞ ≡≡/↧ ↯2_2_0e
≡/{⊙∘} A
⍤⤙≍ [
  {{[0 1 2 3] [4 5 6 7]} [8 9 10 11]}
  {{[12 13 14 15] [16 17 18 19]} [20 21 22 23]}
]
≡≡/{⊙∘} A
⍤⤙≍ [
  [{{{0 1} 2} 3}
   {{{4 5} 6} 7}
   {{{8 9} 10} 11}]
  [{{{12 13} 14} 15}
   {{{16 17} 18} 19}
   {{{20 21} 22} 23}]
]
⍤⤙≍ {[0 0] 1} {⊃△type} ≡/$"_=_" ≡₀□ °△0_2
⍤⤙≍ {[1 3] 1} {⊃△type} ≡/$"_=_" ≡₀□ °△1_2
⍤⤙≍ {[2 3] 1} {⊃△type} ≡/$"_=_" ≡₀□ °△2_2

# Reduce fills
⍤⤙≍ ¯∞ /↥ []
⍤⤙≍ 5 ⬚5/↥ []
⍤⤙≍ 5.2 ⬚5.2/↥ []
⍤⤙≍ 1 /↥ [1]
⍤⤙≍ 5 ⬚5/↥ [1]
⍤⤙≍ 5.2 ⬚5.2/↥ [1]
⍤⤙≍ 1.1 /↥ [1.1]
⍤⤙≍ 5 ⬚5/↥ [1.1]
⍤⤙≍ 5.2 ⬚5.2/↥ [1.1]

⍤⤙≍ ∞ /↧ []
⍤⤙≍ 5 ⬚5/↧ []
⍤⤙≍ 5.2 ⬚5.2/↧ []
⍤⤙≍ 1 /↧ [1]
⍤⤙≍ 1 ⬚5/↧ [1]
⍤⤙≍ 1 ⬚5.2/↧ [1]
⍤⤙≍ 1.1 /↧ [1.1]
⍤⤙≍ 1.1 ⬚5/↧ [1.1]
⍤⤙≍ 1.1 ⬚5.2/↧ [1.1]

⍤⤙≍ 0 /+ ↯[0]e
⍤⤙≍ 10 ⬚10/+ ↯[0]e
⍤⤙≍ [0 0] /+ ↯[0 2]e
⍤⤙≍ [10 10] ⬚10/+ ↯[0 2]e

⍤⤙≍ [1_2_3_4 2_3_0_0] ⬚0≡/⍜-⇡ [1_5 2_4]

# Reduce identities
⍤⤙≍ [2 2] /(⊂+1) [1 2]
⍤⤙≍ [1] /(⊂+1) [1]
⍤⤙≍ [] /(⊂+1) []

⍤⤙≍ [2 3] /(+1⊂) [1 2]
⍤⤙≍ [1] /(+1⊂) [1]
⍤⤙≍ [] /(+1⊂) []

⍤⤙≍ "1 2" /$"_ _" [1 2]
⍤⤙≍ "1" /$"_ _" [1]
⍤⤙≍ "" /$"_ _" []

⍤⤙≍ ∞ /◿ []
⍤⤙≍ ¯∞ /↥ []
⍤⤙≍ ∞ /↧ []
⍤⤙≍ 1 /× []
⍤⤙≍ 1 /(×?) []
⍤⤙≍ 1 /ⁿ []
⍤⤙≍ 1 /÷ []
⍤⤙≍ 0 /ℂ []

⍤⤙≍ 1 ⍣/×1 ⇡⇡13
⍤⤙≍ 1 ⍣/(∘×)1 ⇡⇡13

# Reduce join
⍤⤙≍ [7 5]/(⊂?)[7_5]
⍤⤙≍ [7 5]/(?⊂)[7_5]
⍤⤙≍ [7 5]/(⊂)[7_5]
⍤⤙≍ [5] /(⊂)[5]
⍤⤙≍ [5] /(?⊂)[5]
⍤⤙≍ [5] /(⊂?)[5]

⍤⤙≍ [] /(⊂?)°△0_2
⍤⤙≍ [] /(?⊂)°△0_2
⍤⤙≍ [] /(⊂)°△0_2
⍤⤙≍ [] /(⊂)[]
⍤⤙≍ [] /(?⊂)[]
⍤⤙≍ [] /(⊂?)[]

# Reduce 3+
⍤⤙≍ [2 1 3 1 4] /(⊂⊂) 1 [2 3 4]
⍤⤙≍ "hi there buddy" /◇(⊂⊂) @ {"hi" "there" "buddy"}
⍤⤙≍ "hi, there, buddy" /◇(⊂⊂) ", " {"hi" "there" "buddy"}
⍤⤙≍ [1_7_2 3_7_4 5_7_6] ≡/(⊂⊂) 7 [1_2 3_4 5_6]
⍤⤙≍ [1_7_2 3_8_4 5_9_6] ≡/(⊂⊂) 7_8_9 [1_2 3_4 5_6]
⍤⤙≍ [3 0 1 2 4 0 1 2 5] /(⊂⊂⊂) 0 1_2 [3 4 5]
⍤⤙≍ [1 0 2 0 3] /(⊂⊂) 0 [1 2 3]
⍤⤙≍ [1 0 2] /(⊂⊂) 0 [1 2]
⍤⤙≍ [1] /(⊂⊂) 0 [1]
⍤⤙≍ [] /(⊂⊂) 0 []

# Reduce conjoin
⍤⤙≍ [1 2 3] ⬚[]/◇⊂ {1 2 3}
⍤⤙≍ [1 2] ⬚[]/◇⊂ {1 2}
⍤⤙≍ [5 1 2] ⬚[5]/◇⊂ {1 2}
⍤⤙≍ [1] ⬚[]/◇⊂ {1}
⍤⤙≍ [1 2 3] /◇⊂ {1 2 3}
⍤⤙≍ [1 2 3] /◇⊂ {1_2_3}
⍤⤙≍ [1 2] /◇⊂ {1 2}
⍤⤙≍ [1] /◇⊂ {1}
⍤⤙≍ "" /◇⊂ {""}
⍤⤙≍ "" /◇⊂ {"" ""}
⍤⤙≍ [] /◇⊂ {}
⍤⤙≍ ↯4_0e /◇⊂ ˙□₂ ↯2_0e
⍤⤙≍ °△0_2 /◇⊂ ˙□₂ °△0_2
⍤⤙≍ {{"97"} {}} ≡/◇⊂ {{"97"} {}}
⍤⤙≍ {"97" []} ⍚/◇⊂ {{"97"} {}}
⍤⤙≍ ⊃(/◇⊂∘⍚⇡|/◇⊂⍚⇡) 2
⍤⤙≍ ⊃(/◇⊂∘⍚⇡|/◇⊂⍚⇡) [2 3]
⍤⤙≍ ⊃⍥(/◇⊂∘⍚⇡₁)⍥(/◇⊂⍚⇡₁) 2 2

# Reduce con multijoin
⍤⤙≍ [1 2] /◇(⊂⊂) 0 {1_2}
⍤⤙≍ [1 2 0 3 4] /◇(⊂⊂) 0 {1_2 3_4}
⍤⤙≍ [1 2] /◇(⊂⊂0) {1_2}
⍤⤙≍ [0 1 2 3 4] /◇(⊂⊂0) {1_2 3_4}
⍤⤙≍ 5 /◇+ {5}
⍤⤙≍ 5 /◇(++) 1 {5}
⍤⤙≍ 5 /◇(++1) {5}

# Inventory
⍤⤙≍ {[0] 0_1 0_1_2 0_1_2_3} ⍚⇡ [1 2 3 4]
⍤⤙≍ {1_7 2_3_8 4_5_6_9} ⍚⊂ {1 2_3 4_5_6} [7 8 9]
⍤⤙≍ ˙□₂ [[][]] ⍚⊟ ⊸≡□ ↯2_0 0
⍤⤙≍ □[1 2] ⍚(↙2) □[1 2 3 4]
⍤⤙≍ □⇡4 ⍚⊂ 0 □[1 2 3]
⍤⤙≍ {1_2_5 1_3_6 1_4_7} ⍚(⊂⊂) 1 {2 3 4} [5 6 7]
⍤⤙≍ {1_2_5 1_3_6 1_4_7} ⍚(⊂⊂) 1 {2 3 4} {5 6 7}
⍤⤙≍ {1_2_5_6_7 1_3_5_6_7 1_4_5_6_7} ⍚(⊂⊂) 1 {2 3 4} ¤[5 6 7]
⍤⤙≍ {{1 2 5 6 7} {1 3 5 6 7} {1 4 5 6 7}} ⍚(⊂⊂) 1 {2 3 4} ¤{5 6 7}
⍤⤙≍ {} ⍚⊂ "" □"12"
⍤⤙≍ {} ⍚⊂ □"12" ""
⍤⤙≍ [{0} {1} {2}] [⍚⊙⊙∘] {0} {1} {2}
⍤⤙≍ {[2 3 4] [6 7] [9]} ⍚+ [1 2 3] {[1 2 3] [4 5] [6]}
⍤⤙≍ {1_2 1_3_4} ⍚⊂ □1 {2 3_4}
⍤⤙≍ {1_4 2_3_4} ⍚⊂ {1 2_3} □4
⍤⤙≍ [{0 1} {3 6}] ⍚₀(/+⇡) [1_2 3_4]
⍤⤙≍ [{3 4} {5 6}] ⍚₀⋅⋅∘ 1 2 [{3 4} {5 6}]
⍤⤙≍ [{1 1} {1 1}] ⍚₀⊙⋅◌ 1 2 [{3 4} {5 6}]

# Scan
⍤⤙≍ [] \+[]
⍤⤙≍ [] ⬚0\+[]
⍤⤙≍ [1 3 6 10] \+[1 2 3 4]
⍤⤙≍ [1 3 6 10] ⬚0\+[1 2 3 4]
⍤⤙≍ [0_1_0_0 0_1_2_0 0_1_2_3] ⬚0\⊂ [1 2 3]
⍤⤙≍ "abdg" ⬚@a\+ [0 1 2 3]
⍤⤙≍ [1 2 3 4 5] °\+[1 3 6 10 15]
⍤⤙≍ [1_2_3 4_5_6 7_8_9] °\+[1_2_3 5_7_9 12_15_18]
⍤⤙≍ [1 1 0] °\+ [1 2 2]
⍤⤙≍ ⊃(⊂⊢⟜⧈=|°\=) [1 0 1 1 0]
⍤⤙≍ ⊃(⊂⊢⟜⧈≠|°\≠) [1 0 1 1 0]
⍤⤙≍ [1 12 123 1234] \(+×) 10 [1 2 3 4]
⍤⤙≍ ["a    " "a,b  " "a,b,c"] ⬚@ \(⊂⊂) @, "abc"

# Fold
⍤⤙≍ 18 ∧+ [2 3 5 7] 1
⍤⤙≍ 16 ∧+ [1 2 3] 10
⍤⤙≍ 10 ∧+ [] 10
⍤⤙≍ [1 2 3] ∧(⊂⊂) 1 2 3
⍤⤙≍ [15 120] [∧(⊃+(×⊙⋅∘)) +1⇡5 0 1]
⍤⤙≍ [2222 0] [∧(⊃(+/+)⋅⋅∘) ♭₂ [1_1]_[10_10]_[100_100]_[1000_1000] 0 0]
⍤⤙≍ 60 ∧(+×) 10 1_2_3 0
⍤⤙≍ [] ∧(+) [1] []
⍤⤙≍ [0 1 3 6] ∧(⊸+) [1 2 3 4] 0
⍤⤙≍ [1 3 6 10] ∧(⟜∘+) [1 2 3 4] 0
∧(⟜∘↻) [1 2 3] [0 0 0 0 0 0 1]
⍤⤙≍ [
  [0 0 0 0 0 1 0]
  [0 0 0 1 0 0 0]
  [1 0 0 0 0 0 0]
]

# Rows pervasive on scalars
⍤⤙≍ ¯5 ≡¯ 5
⍤⤙≍ 3 ≡+ 1 2
⍤⤙≍ 6 ≡(++) 1 2 3

# Rows
⍤⤙≍ [1_2 1_3 1_4] ≡⊟ 1 [2 3 4]
⍤⤙≍ [1_2 1_3 1_4] ⬚0≡⊟ 1 [2 3 4]
⍤⤙≍ [1_2 1_3 1_4] ⬚0≡⊟ [1] [2 3 4]
⍤⤙≍ [1_2_5 1_3_5 1_4_5] ≡(⊂⊂) 1 [2 3 4] 5
⍤⤙≍ [1_2_5 1_3_5 1_4_5] ⬚0≡(⊂⊂) 1 [2 3 4] 5
⍤⤙≍ [1_2_5 1_3_5 1_4_5] ⬚0≡(⊂⊂) [1] [2 3 4] 5
⍤⤙≍ ≡+ 1 [2 3 4] + 1 [2 3 4]
⍤⤙≍ ≡(++) 1 [2 3 4] 5 ++ 1 [2 3 4] 5
⍤⤙≍ ≡(++) [1] [2 3 4] 5 ++ [1] [2 3 4] 5
⍤⤙≍ [8 8 9] ⬚0(++) [1] [2 3 4] 5
⍤⤙≍ [8 9 10] ⬚0≡(++) [1] [2 3 4] 5
⍤⤙≍ [8 9 4] ⬚0(++) [1] [2 3 4] [5 6]
⍤⤙≍ [1_2 6_8 15_18] ≡× [[1][2][3]] [1_2 3_4 5_6]

⍤⤙≍ [6_22_38 54_70_86] ⍜♭₂≡/+ ↯2_3_4⇡24
⍤⤙≍ [7_1_2 7_3_4 7_5_6] ≡⊂7[1_2 3_4 5_6]
⍤⤙≍ [7_1_2 7_3_4 7_5_6] ⍜⊙♭₂≡⊂ 7 [1_2 3_4 5_6]
⍤⤙≍ [[9_1_2 9_3_4] [9_5_6 9_7_8]] ⍜⊙♭₂≡⊂ 9 [[1_2 3_4] [5_6 7_8]]
⍤⤙≍ [2_3_1 5_6_4 8_9_7] ≡↻ 1 [1_2_3 4_5_6 7_8_9]
⍤⤙≍ [2_3_1 5_6_4 8_9_7] ˜≡˜↻ 1 [1_2_3 4_5_6 7_8_9]
⍤⤙≍ [1_2 4_5 7_8] ≡(↘⊙↻) 1 2 [1_2_3 4_5_6 7_8_9]
≡(⊂⊂⊂) 1 2 3 [1_2_3 4_5_6 7_8_9]
⍤⤙≍ [1_2_3_1_2_3 1_2_3_4_5_6 1_2_3_7_8_9]
⍤⤙≍ [0_1_2 4_5_3 8_6_7] ≡↻ ⇡3 ↯3_3⇡9

⍤⤙≍ [1_2 1_3 1_4] ≡⊂ 1 2_3_4
⍤⤙≍ [1_4 2_4 3_4] ≡⊂ 1_2_3 4
⍤⤙≍ [1 2 3] ≡(⊂⊂) 1 2 3
⍤⤙≍ [[1 2 3]] ≡(⊂⊂) [1] [2] [3]
⍤⤙≍ [[1 2 3]] ≡(⊂⊂) [1] 2 3
⍤⤙≍ [1_4_7 2_5_8 3_6_9] ≡(⊂⊂) 1_2_3 4_5_6 7_8_9
⍤⤙≍ [1_2_3_4_7 1_2_3_5_8 1_2_3_6_9] ≡(⊂⊂) ¤ 1_2_3 4_5_6 7_8_9
⍤⤙≍ [1_4_5_6_7 2_4_5_6_8 3_4_5_6_9] ≡(⊂⊂) ⊙¤ 1_2_3 4_5_6 7_8_9
⍤⤙≍ [1_4_7_8_9 2_5_7_8_9 3_6_7_8_9] ≡(⊂⊂) ⊙⊙¤ 1_2_3 4_5_6 7_8_9
⍤⤙≍ ↯0_3[] ≡(⊂⊂) [] [] 5
⍤⤙≍ ↯0_3[] ≡(⊂⊂) [] 5 []
⍤⤙≍ ↯0_3[] ≡(⊂⊂) 5 [] []

⍤⤙≍ [3 5] △ ≡⊂ "abc" ¤"wxyz"
⍤⤙≍ [2 5] △ ≡⊂ "ab" ¤"wxyz"
⍤⤙≍ [1 5] △ ≡⊂ "a" ¤"wxyz"
⍤⤙≍ [0 5] △ ≡⊂ "" ¤"wxyz"
⍤⤙≍ [3 2 4] △ ≡⊂ "abc" ¤¤"wxyz"
⍤⤙≍ [2 2 4] △ ≡⊂ "ab" ¤¤"wxyz"
⍤⤙≍ [1 2 4] △ ≡⊂ "a" ¤¤"wxyz"
⍤⤙≍ [0 2 4] △ ≡⊂ "" ¤¤"wxyz"

⍤⤙≍ ∩□₂ ◡≡⊙∘ [] ""

# Rows numeric subscript
⍤⤙≍ ⊃□≡₃□ °△2_3_4
⍤⤙≍ □[1 2 3] ≡₀∘ □[1 2 3]
⍤⤙≍ [3_104_205 6_107_208] ≡₁+ ×100 [0 1 2] [3_4_5 6_7_8]
⍤⤙≍ [[[3 104 205] [6 107 208]] [[9 110 211] [12 113 214]]] ≡₁+ ×100 [0 1 2] [[3_4_5 6_7_8] [9_10_11 12_13_14]]
⍤⤙≍ [6_107_208 9_110_211]_[312_413_514 315_416_517] ≡₁+ ×100 [0_1_2 3_4_5] [6_7_8 9_10_11]_[12_13_14 15_16_17]
⍤⤙≍ [{"abc""ghi"}_{"abc""jkl"} {"def""mno"}_{"def""pqr"}] ≡₁□₂ "abc"_"def" ["ghi"_"jkl" "mno"_"pqr"]

# Rows subscript fill correctness
⍤⤙≍ ⬚0≡⬚0≡⇡ ⟜⬚0≡₀⇡ +1°△2_2
⍤⤙≍ ⬚0≡⬚0≡⇡ ⟜⬚0≡₋₂⇡ +1°△2_2
⍤⤙≍ ⬚0≡⬚0≡⬚0≡⇡ ⟜⬚0≡₀⇡ +1°△2_2_2
⍤⤙≍ ⬚0≡⬚0≡⬚0≡⇡ ⟜⬚0≡₋₃⇡ +1°△2_2_2
⍤⤙≍ ⊃≡↻⬚0≡↻ 1 [1_2 3_4]
⍤⤙≍ ⊃≡₁↻⬚0≡₁↻ 1 [[1_2 3_4] [5_6 7_8]]
⍤⤙≍ ⊃≡₋₂↻⬚0≡₋₂↻ 1 [[1_2 3_4] [5_6 7_8]]

# Sided rows
⍤⤙≍ [[1_5_6 2_5_6] [3_5_6 4_5_6]] ≡₀⌟⊂ [1_2 3_4] 5_6
⍤⤙≍ [[1_5_6 2_5_6] [3_5_6 4_5_6]] ≡₋₂⌟⊂ [1_2 3_4] 5_6
⍤⤙≍ [[1_2_3 1_2_4] [1_2_5 1_2_6]] ≡₀⌞⊂ 1_2 [3_4 5_6]
⍤⤙≍ [[1_2_3 1_2_4] [1_2_5 1_2_6]] ≡₋₂⌞⊂ 1_2 [3_4 5_6]
⍤⤙≍ [[1_5_6_7_8 2_5_6_7_8] [3_5_6_7_8 4_5_6_7_8]] ≡₀⌟₂(⊂⊂) [1_2 3_4] 5_6 7_8
⍤⤙≍ [[1_5_6_7_8 2_5_6_7_8] [3_5_6_7_8 4_5_6_7_8]] ≡₋₂⌟₂(⊂⊂) [1_2 3_4] 5_6 7_8
⍤⤙≍ [[1_2_3_4_5 1_2_3_4_6] [1_2_3_4_7 1_2_3_4_8]] ≡₀⌞₂(⊂⊂) 1_2 3_4 [5_6 7_8]
⍤⤙≍ [[1_2_3_4_5 1_2_3_4_6] [1_2_3_4_7 1_2_3_4_8]] ≡₋₂⌞₂(⊂⊂) 1_2 3_4 [5_6 7_8]

# Partition
⍤⤙≍ ⇡6 /⊂⊜∘ [1 1 2 2 3 3] ⇡6
⍤⤙≍ {1_2_4 5_6 8_9} ⊜□ [1_1_0 1_2_2 0_1_1] +1↯3_3⇡9
⍤⤙≍ ↯2_2_4⟜(⊜∘ [1 1 2 2]) ↯4_4⇡16
⍤⤙≍ [1] ˙⊜∘1
⍤⤙≍ [] ˙⊜∘0
⍤⤙≍ [] ⊜∘ [] []
⍤⤙≍ "" ⊜∘ [] ""
⍤⤙≍ {} ⊜∘ [] {}
⍤⤙≍ {} ⊜□ [] []
⍤⤙≍ {} ⊜□ [] ""
⍤⤙≍ {} ⊜□ [] {}
⍤⤙≍ {[1 1 1] [2]} ˙⊜□ [0_1_2 1_1_0]
⍤⤙≍ [3 2 1 3 3 2] ⍜⊜(□◴)⍚⇌ [1 1 1 1 2 2] [1 2 3 1 2 3]

# Un partition
⍤⤙≍ {[1 1 1 0 1 1 1] "foo bar"} {⬚@ °⊜□} {"foo" "bar"}
⍤⤙≍ {[1 1 1 2 2 2] "foobar"} {°⊜□} {"foo" "bar"}
⍤⤙≍ {[1 0 0 1 1 0 0 1 1 1 1] "I, am, dave"} {⬚", "°⊜□} {"I" "am" "dave"}

# Group
⍤⤙≍ ⇡6 /⊂⊕∘ [0 0 1 1 2 2] ⇡6
⍤⤙≍ {3_7 1_2_4_8_9 5_6} ⊕□ [1_1_0 1_2_2 0_1_1] +1↯3_3⇡9
⍤⤙≍ {°△0_4 ⟜(+8) ↯2_4⇡8} ⊕□ [1 1 2 2] ↯4_4⇡16
⍤⤙≍ {[0] [1] [] [3 3]} ˙⊕□ [0_1 3_3]
⍤⤙≍ [1 1 0 3] ⊕(/+-°⊟⍉) 0_3_1_3_3 °△5_2
⍤⤙≍ {[] [1]} ˙⊕□1
⍤⤙≍ [0] ˙⊕∘0
⍤⤙≍ [{[3] "c"} {[1 4] "ad"} {[2 5] "be"}] ⊕{⊙∘} ⊸◿3 [1 2 3 4 5] "abcde"
⍤⤙≍ {"a" "aa" "aa"} +1 ⊕(□-) ⊸◿3 [1 2 3 4 5] "abcde"

# Un group
⍤⤙≍ {[0 1 1 1 2 2] [1 2 3 4 5 6]} {°⊕□} {1 2_3_4 5_6}

# Repeat
⍤⤙≍ [1] △ ≡⍥⍜now∘ 1 1
⍤⤙≍ [10 20 40 80] ⍥(×2) [1 2 3 4] [5 5 5 5]
⍤⤙≍ [10_20 40_80] ⍥(×2) [1_2 3_4] [5_5 5_5]
⍤⤙≍ [10_10 20_20] ⍥(×2) [1 2] [5_5 5_5]
⍤⤙≍ [1 0] △ [⍥⊸×₂] 0 1
⍤⤙≍ [1 1] △ [⍥⊸×₂] 1 1
⍤⤙≍ [1 2] △ [⍥⊸×₂] 2 1
⍤⤙≍ [⊸+1⊸+1 6_7_8] ⍥(+1) [⊸+1⊸+1 1_2_3] 5
⍤⤙≍ [⊸+1⊸+1 2_4_6] ⍥(+1) [⊸+1⊸+1 1_2_3] ¤[1 2 3]
⍤⤙≍ ↯3 4_5_6 ⍥(+1) [⊸+1⊸+1 1_2_3] [1 2 3]
⍤⤙≍ [[0_1 0_3] [0_1 2_1]] [⍥˜⊙∘] ⟜∘ °△1_2 °△2_2
⍤⤙≍ 5 ⍥(+1) ¯5 10
⍤⤙≍ °△0_3 ⍥∘[] ¤[1 2 3]
⍤⤙≍ °△0_0 ⍥∘[] ¤[]
⍤⤙≍ 32 °(⍥(×2) 5) 1024
⍤⤙≍ 32 ◌°⟜⍥(×2) 5 1024
⍤⤙≍ +10 ⟜⍥+₁ °△2_2 ¤¤10
⍤⤙≍ +10 ⟜⍥+₁ °△2_2_2 ¤¤¤10
⍤⤙≍ +10 ⟜⍥+₁ ¤⇡2 ¤¤10
⍤⤙≍ +10 ⟜⍥+₁ ¤⇡1 ¤¤10
⍤⤙≍ +10 ⟜⍥+₁ ¤⇡0 ¤¤10
⍤⤙≍ +1⇡7 ⍥/◇⊂∞ {1 {2 3} {4 {5 6 {7}}}}
⍤⤙≍ {4 +1⇡7} {°⍥°/◇⊂} {1 {2 3} {4 {5 6 {7}}}}
⍤⤙≍ 52 ⍥+⊙(2 10) 5
⍤⤙≍ [4_8 16_32] ⍥(×2) [1_2 3_4] ¤[2 2]
⍤⤙≍ [1 1 2 3 5 8 13 21] ⍥◡+8 ∩1
⍤⤙≍ [1 1 2 3 5 8 13 21] ⍥◡+8 ∩1
⍤⤙≍ [0_2_4 1_3_5] [⍥(⊃↘(°⊟↙)2)3] ⇡10
⍤⤙≍ [2 3 1] ⬚0⍥(↻1)1 [1 2 3]
⍤⤙≍ ⤙⍥¬ [5] °△1_0
⍤⤙≍ [] ⍥∘ [][]
⍤⤙≍ [[][]] ⊟⍥⊙∘ [][][]
⍤⤙≍ °△0_3 ⍥∘[] ¤[1 2 3]
⍤⤙≍ {1_4 3_2} {⍥˜⊙∘} [2 5] 1_2 3_4

# Do
⍤⤙≍ 1024 ⍢(×2|<1000) 1
⍤⤙≍ 1024 ⍢(×2|⊸<1000) 1
⍤⤙≍ [1 2 4 8 16 32 64] ◌⍢(⊃(×2|˜⊂)|<100) 1 []
⍤⤙≍ [1 2 4 8 16 5] ◌⍢⊂⊸(¬⊸∊⟜(⨬(+1×3|÷2)=0⊸◿2⊢)) [5]
⍤⤙≍ 128 ⍢(×|<100) 1 2

# Partition noadic
F ← ⊜?⊸≠@l
F "Hello"
F ← ⊜□⊸≠@l
◌F "Hello"

⍤⤙≍ [1 1 2 1 1 1 3 2 3 4 2] /+≡(×⊸\+=)⊃◴¤ [3 8 3 1 5 4 3 1 1 3 5]
⍤⤙≍ [1 1 2 1 1 1 3 2 3 4 2] ≡/↥×⊸\+⊞=⟜◴ [3 8 3 1 5 4 3 1 1 3 5]

# Table shape correctness
⍤⤙≍ ⊃⊞+⊞(∘+) 1 2
⍤⤙≍ ⊃⊞+⊞(∘+) 1 2_3
⍤⤙≍ ⊃⊞+⊞(∘+) 1_2 3
⍤⤙≍ ⊃⊞+⊞(∘+) 1_2 3_4
⍤⤙≍ [2 3] ⍜∩°△⊞+ [2 3] []
⍤⤙≍ [2 3] ⍜∩₃°△⊞(++) [2 3] [] []
⍤⤙≍ °△1_1_0 ˙⊞= °△ 1_0
⍤⤙≍ °△2_3_0 ⊞= ∩°△ 2_0 3_0

# Table subscripts
⍤⤙≍ ⊃(↯2_3_4_5_2 ⊞⊟ ∩♭|⊞₀⊟) °△2_3 °△4_5
⍤⤙≍ ⊃(↯2_3_4_5_2 ⊞⊟ ∩♭|⊞₋₂⊟) °△2_3 °△4_5
⍤⤙≍ ⊃(⊞⊟|⊞₁⊟) °△2_3 °△4_3
⍤⤙≍ ⊃(⊞⊟|⊞₋₁⊟) °△2_3 °△4_3
⍤⤙≍ ⊃(°¤°¤⊞⊟∩¤|⊞₂⊟) °△2_3 °△2_3
⍤⤙≍ ⊃(↯2_3_5_10 ⊞⊂ ∩♭₂|⊞₁⊂) °△2_3_4 °△5_6
⍤⤙≍ ⊃(⊞(⊂♭)|⊞₋₁(⊂♭)) °△2_3_4 °△5_6
⍤⤙≍ ⊃(↯2_3_5_6_2 ⊞□₂∩♭₋₁|⊞₋₂□₂) °△2_3_4 °△5_6
⍤⤙≍ ⊃⊞₋₂⊂⊞₋₃⊂ ["abc""def"] ["12""34"]
⍤⤙≍ ⊃⊞₀⊂⊞₋₃⊂ ["abc""def"] ["12""34"]

# Stencil
⍤⤙≍ [1_2 2_3] ⧈∘2 [1 2 3]
⍤⤙≍ [¯1_1 1_2 2_3 3_¯1] ⬚¯1⧈∘2 [1 2 3]
⍤⤙≍ °△0_5 ⧈∘ 5 [1 2 3]
⍤⤙≍ °△0_0_5_5_4 ⧈∘ 5_5 °△3_3_4
# Filled adjacent
⍤⤙≍ [1 3 5 3] ⬚0⧈+ [1 2 3]
⍤⤙≍ [1_2 4_6 8_10 5_6] ⬚0⧈+ [1_2 3_4 5_6]
⍤⤙≍ [1_2 4_6 8_10 5_6] ⬚0⧈(+∘) [1_2 3_4 5_6]
⍤⤙≍ [3 6 9 7] ⬚0⧈/+ 3 [1 2 3 4]
⍤⤙≍ [3 6 9 7] ⬚0⧈(++) [1 2 3 4]
⍤⤙≍ [4_6 9_12 8_10] ⬚0⧈(++) [1_2 3_4 5_6]
⍤⤙≍ [20] ⬚10⧈+ []
⍤⤙≍ [11 11] ⬚10⧈+ [1]
⍤⤙≍ [11 3 12] ⬚10⧈+ [1 2]
⍤⤙≍ [] ⬚10⧈(++) []
⍤⤙≍ [21] ⬚10⧈(++) [1]
⍤⤙≍ [13 13] ⬚10⧈(++) [1 2]
⍤⤙≍ [13 6 15] ⬚10⧈(++) [1 2 3]
⍤⤙≍ [21 13 6 15 23] ⬚10⧈/+ [¤3¤1¤2] [1 2 3]
# Chunking
⍤⤙≍ [1_2 3_4 5_6] ⧈∘¤¤2 [1 2 3 4 5 6]
⍤⤙≍ [1_2 3_4] ⧈∘¤¤2 [1 2 3 4 5]
⍤⤙≍ [0_0 1_2 3_4 5_0] ⬚0⧈∘¤¤2 [1 2 3 4 5]
⍤⤙≍ [[1_2 5_6]_[3_4 7_8] [9_10 13_14]_[11_12 15_16]] ⧈∘¤2_2 +1°△4_4
⍤⤙≍ [[[1_2_3 5_6_7]] [[9_10_11 13_14_15]]] ⧈∘¤2_3 +1°△4_4
⍤⤙≍ [
  [0_0_0 0_0_0]_[1_2_3 5_6_7]_[4_0_0 8_0_0]
  [0_0_0 0_0_0]_[9_10_11 13_14_15]_[12_0_0 16_0_0]
] ⬚0⧈∘ [⟜∘2_3 0_1] +1°△4_4
⍤⤙≍ [14_17 23_26] ⧈(/↥♭)2_2 °△3_3_3
⍤⤙≍ [17_23 41_47] ⧈(/↥♭)¤2_2 °△4_4_3
⍤⤙≍ ∩⌟(⧈∘ ¤¤) 2 ¯5 ⇡10
⍤⤙≍ [5] △ ⧈□¤¤¯5 ⇡14
⍤⤙≍ 5_5 △ ⧈(□∘) ¤¯5_¯5 °△12_12
⍤⤙≍ 5_5 △ ⧈□ ¤¯5_¯5 °△12_12
⍤⤙≍ 5_5_2_2 △ ⧈∘ ¤¯5_¯5 °△12_12
# Shape when empty
⍤⤙≍ 0_3_5 △ ⧈/× 2 °△0_3_5
⍤⤙≍ 0_3_5 △ ⧈/× 2 °△1_3_5
⍤⤙≍ 1_3_5 △ ⧈/× 2 °△2_3_5
⍤⤙≍ 2_3_5 △ ⧈/× 2 °△3_3_5
# Types
⍤⤙≍ [1] ⧈-"ab"
⍤⤙≍ [] ⧈-"a"
⍤⤙≍ [] ⧈-""
# Sided
⍤⤙≍ [1_2 3_4] ⧈⌞∘ 2 ⇡₁4
⍤⤙≍ [1_2 3_4] ⧈⌟∘ 2 ⇡₁4
⍤⤙≍ {1_2 3_4} ⧈⌞□ 2 ⇡₁5
⍤⤙≍ {2_3 4_5} ⧈⌟□ 2 ⇡₁5
⍤⤙≍ [[[0_1_2 7_8_9] [3_4_5 10_11_12]]
     [[14_15_16 21_22_23] [17_18_19 24_25_26]]
     [[28_29_30 35_36_37] [31_32_33 38_39_40]]
] ⧈⌞∘2_3 °△7_7
⍤⤙≍ [[[8_9_10 15_16_17] [11_12_13 18_19_20]]
     [[22_23_24 29_30_31] [25_26_27 32_33_34]]
     [[36_37_38 43_44_45] [39_40_41 46_47_48]]
] ⧈⌟∘2_3 °△7_7
⍤⤙≍ [{[0_1_2 7_8_9] [3_4_5 10_11_12]}
     {[14_15_16 21_22_23] [17_18_19 24_25_26]}
     {[28_29_30 35_36_37] [31_32_33 38_39_40]}
] ⧈⌞□2_3 °△7_7
⍤⤙≍ [{[8_9_10 15_16_17] [11_12_13 18_19_20]}
     {[22_23_24 29_30_31] [25_26_27 32_33_34]}
     {[36_37_38 43_44_45] [39_40_41 46_47_48]}
] ⧈⌟□2_3 °△7_7
⍤⤙≍ [{[8_9_10 15_16_17] [11_12_13 18_19_20]}
     {[22_23_24 29_30_31] [25_26_27 32_33_34]}
     {[36_37_38 43_44_45] [39_40_41 46_47_48]}
] ⧈⌟(□∘)2_3 °△7_7
⍤⤙≍ {[0_1_2_3_4 5_6_7_8_9] [10_11_12_13_14 15_16_17_18_19]} ⧈⌞□ 2 °△5_5
⍤⤙≍ {0_0 1_2 3_4 5_0} ⬚0⧈⌞□ 2 ⇡₁5
⍤⤙≍ {0_1 2_3 4_5 0_0} ⬚0⧈⌟□ 2 ⇡₁5
⍤⤙≍ ⊃(⧈⌞∘3|⧈⌞∘¯3) ⇡10
⍤⤙≍ [0_1 2_3] ⧈⌞∘ ¯2 ⇡5
⍤⤙≍ [1_2 3_4] ⧈⌟∘ ¯2 ⇡5

# Monadic tuples
⍤⤙≍ [0 0] △ ⬚0⧅∘ []
⍤⤙≍ [1 1] △ ⬚0⧅∘ [1]
⍤⤙≍ [2 2] △ ⬚0⧅∘ [1 2]
⍤⤙≍ {} ⧅□ []
⍤⤙≍ {[1]} ⧅□ [1]
⍤⤙≍ {[1] [1 2]} ⧅□ [1 2]

# Scalar tuples
⍤⤙≍ 0 ⧅+ 0 5
⍤⤙≍ 100 ⧅+ 2 5
⍤⤙≍ 10 ⧅< 2 5
⍤⤙≍ 10 ⧅< 3 5
⍤⤙≍ 5 ⧅< 4 5
⍤⤙≍ ∩⧅≠ 8 8 ∞ 8
⍤⤙≍ ∩⧅(≠+₁) 4 4 ∞ 4

# Experimental!

# Fold pack
⍤⤙≍ 6 ∧(+|<10) ⊙0 [1 2 3 10 4 5]
⍤⤙≍ 6 ∧(+|⊸<10) ⊙0 [1 2 3 10 4 5]
⍤⤙≍ 3 ∧(+|<) ⊙0 [1 2 3 10 4 5]
⍤⤙≍ 3 ∧(+|⊸<) ⊙0 [1 2 3 10 4 5]
⍤⤙≍ 16 ∧(+|≤) ⊙0 [1 2 3 10 4 5]
⍤⤙≍ 16 ∧(+|⊸≤) ⊙0 [1 2 3 10 4 5]
⍤⤙≍ [11 1.1] ∧[⊓⌞+×|≥⊙⋅∘] ⊙(10 1.1) [1 2 3 10 5]
