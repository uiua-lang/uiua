# Comptime (These come first so that they are not the source of later errors)
X â† 5
Y â† comptime(X)
â¤â¤™â‰ X Y
Z â† comptime(+1Y)
â¤â¤™â‰ Z +1 X

# Basic pervasive math
â¤â¤™â‰ [2 3 4] + 1 [1 2 3]
â¤â¤™â‰ [5 7 9] + [1 2 3] [4 5 6]
â¤â¤™â‰ [7 7 6] + [1 2 3] [6 5 3]
â¤â¤™â‰ [7 7 8] + [1 2 3] [6 5 5]
â¤â¤™â‰ [5 6 7] + [1 2 3] 4
â¤â¤™â‰ [2_3_4 6_7_8 10_11_12] + [1 2 3] [1_2_3 4_5_6 7_8_9]
â¤â¤™â‰ [2_3_4 6_7_8 10_11_12] + [1_2_3 4_5_6 7_8_9] [1 2 3]
â¤â¤™â‰ [0_1_2 2_3_4 4_5_6] - [1 2 3] [1_2_3 4_5_6 7_8_9]
â¤â¤™â‰ Â¯[0_1_2 2_3_4 4_5_6] - [1_2_3 4_5_6 7_8_9] [1 2 3]
â¤â¤™â‰ âŸœ(Ã—1_2) â†¯2_0 0
â¤â¤™â‰ âŸœ(Ã—2) â†¯0_2 0
â¤â¤™â‰ âŸœ(Ã—2) â†¯0_0 0
â¤â¤™â‰ âŸœ(Ã—2) â†¯0_0_0 0
â¤â¤™â‰ âŸœ(Ã—[2]) â†¯0_0_0 0
â¤â¤™â‰ â†¯2_0_2e Ã—2â†¯2_0_2e
â¤â¤™â‰ [1 0 Â¯1 Â¯2 Â¯3] -âŠ™1 â‡¡5
â¤â¤™â‰ [âˆ 1 1/2 1/3 1/4] Ã·âŠ™1 â‡¡5
â¤â¤™â‰ [Â¯âˆ Â¯1 Â¯1/2 Â¯1/3 Â¯1/4] Ã·âŠ™Â¯1 â‡¡5

# Fixed pervasive math
â¤â¤™â‰ âŠƒâ‰¡++ Â¤100_200 [[1_2 3_4] [5_6 7_8] [9_10 11_12]]
â¤â¤™â‰ âŠƒâ‰¡â‰¡++ Â¤Â¤100_200 [[1_2 3_4] [5_6 7_8] [9_10 11_12]]
â¤â¤™â‰ âŠƒâ‰¡++ 10_20 [1_2_3 4_5_6]
â¤â¤™â‰ âŠƒâ‰¡++ Â¤10_20_30 [1_2_3 4_5_6]
â¤â¤™â‰ âŠƒâ‰¡-- Â¤[1 2 3] [4 5 6]
â¤â¤™â‰ 0_3 â–³ +Â¤ â†¯3 0 â†¯0_3 0
â¤â¤™â‰ 1_3 â–³ +Â¤ â†¯3 0 â†¯1_3 0
â¤â¤™â‰ âŠƒâ‰¡â‰¡++ Â¤Â¤0 â‡¡10
â¤â¤™â‰ âŠƒâ‰¡++ [0_1_2 3_4_5] Â¤ [0_3_6 1_4_7 2_5_8]
â¤â¤™â‰ âŠƒâ‰¡++ Â¤ [0_1_2 3_4_5 6_7_8] [0_3_6 1_4_7 2_5_8]
â¤â¤™â‰ [11_12_13 21_22_23 31_32_33 41_42_43] + Â¤[1 2 3] [10 20 30 40]
â¤â¤™â‰ [11_21_31_41 12_22_32_42 13_23_33_43] + âŠ™Â¤[1 2 3] [10 20 30 40]
â¤â¤™â‰ [11_22_33 41_52_63] + Â¤[1 2 3] [10_20_30 40_50_60]
â¤â¤™â‰ âŠƒâ‰¡++ Â¤ [10 20 30] â†¯4_3_2â‡¡24
â¤â¤™â‰ âŠƒâ‰¡++ Â¤Â¤ [10 20] â†¯4_3_2â‡¡24
â¤â¤™â‰ â‰¡â‰¡(âŠŸ.) [0_2 2_4] - Â°â–³ 2_1_2 Â°â–³ 2_2_2
â¤â¤™â‰ â‰¡â‰¡(âŠŸ.) Â¯[0_2 2_4] - Â°â–³ 2_2_2 Â°â–³ 2_1_2
â¤â¤™â‰ [0_1 1_2] +âˆ©Â°â–³ 2_1 1_2
â¤â¤™â‰ [[0_2 2_4 4_6] [2_4 4_6 6_8]] +âˆ©Â°â–³ 2_1_2 1_3_2
â¤â¤™â‰ [] â†¥ [] [1]
â¤â¤™â‰ [] â†¥ [1] []
â¤â¤™â‰ [] + [] [1]
â¤â¤™â‰ [] + [1] []

# Filled pervasives
â¤â¤™â‰ [1_1 0_0] â¬š0â†¥ â†¯ 2_2 0 â†¯ 1_2 1
â¤â¤™â‰ [1_0 1_0] â¬š0â†¥ â†¯ 2_2 0 â†¯ 2_1 1
â¤â¤™â‰ [1 1] â¬šNaN= [1] [1 NaN]
â¤â¤™â‰ [3 3.5] â¬š0.5+ [1] [2 3]
â¤â¤™â‰ [5_5 5_6] â¬š5â†¥ [] [0_0 0_6]
â¤â¤™â‰ [5_5 5_6] â¬š5â†¥ [[][]] [0_0 0_6]
â¤â¤™â‰ [5_5 5_6] â¬š5â†¥ [0_0 0_6] []
â¤â¤™â‰ [5_5 5_6] â¬š5â†¥ [0_0 0_6] [[][]]
â¤â¤™â‰ [..0] â¬š@\0= "" "abc"
â¤â¤™â‰ [..0] â¬š@\0= "abc" ""
â¤â¤™â‰ [1 0 0] â¬š@\0= "abc" "a"
â¤â¤™â‰ [1 0 0] â¬š@\0= "a" "abc"
â¤â¤™â‰ @6 â¬š@0/+ [1 2 3]
â¤â¤™â‰ [11_12 13_14] â¬š10+ â†¯1_0 0 [1_2 3_4]
â¤â¤™â‰ [1_12 13_14] â¬š10+ â†¯1_1 0 [1_2 3_4]
â¤â¤™â‰ [11_12 13_14] â¬š10+: â†¯1_0 0 [1_2 3_4]
â¤â¤™â‰ [1_12 13_14] â¬š10+: â†¯1_1 0 [1_2 3_4]
â¤â¤™â‰ [1] â¬š0â†¥ [] [1]
â¤â¤™â‰ [1] â¬š0â†¥ [1] []
â¤â¤™â‰ [1] â¬š0+ [] [1]
â¤â¤™â‰ [1] â¬š0+ [1] []

# Trig
â¤â¤™â‰ Î· Â°âˆ¿ 1
â¤â¤™â‰ â„‚0Î· Â°âˆ¿ â„‚0 1
â¤â¤™â‰ Î· +Î·Â°âˆ¿ 0
â¤â¤™â‰ â„‚0Î· +Î·Â°âˆ¿ â„‚0 0
â¤â¤™â‰ Î· âˆ  1 0
â¤â¤™â‰ â„‚0Î· âˆ  1 â„‚0 0
â¤â¤™â‰ â„‚0Î· âˆ  â„‚0 1 0
â¤â¤™â‰ â„‚0Î· âˆ  â„‚0 1 â„‚0 0

# Bytes integrity - ensure the the boolean flag is properly set and unset
â¤â¤™â‰ Â¯4 Â¬5
â¤â¤™â‰ 1 Â¬0
â¤â¤™â‰ 0 Â¬1
â¤â¤™â‰ 0.5 Â¬0.5
â¤â¤™â‰ [1 0 Â¯1 Â¯2] Â¬[0 1 2 3]
â¤â¤™â‰ [1 0 0 1] Â¬[0 1 1 0]
â¤â¤™â‰ [0 0 1] Â¬âˆŠ [1 2 3 4] [2 4 5]
â¤â¤™â‰ [1 0 1 0] Â¬âˆŠ [2 4] [1 2 3 4]
â¤â¤™â‰ [Â¯1 1 Â¯1] Â¬+. [1 0 1]
â¤â¤™â‰ [0 1 0] Â¬âŠ‚ 1 [0 1]
â¤â¤™â‰ [Â¯4 1 0] Â¬âŠ‚ 5 [0 1]
â¤â¤™â‰ [0 1] Â¬âœâŠ¢(+1) [0 0]
â¤â¤™â‰ [1 0] Â¬âœâŠ£(+1) [0 0]
â¤â¤™â‰ [0 1] Â¬âœ(âŠ¡0|+1) [0 0]
â¤â¤™â‰ [1 0] Â¬âœ(âŠ¡1|+1) [0 0]
â¤â¤™â‰ [0 1] Â¬âœ(âŠ0|+1) [0 0]
â¤â¤™â‰ [1 0] Â¬âœ(âŠ1|+1) [0 0]
â¤â¤™â‰ [0 0] Â¬âœ(âŠ0_1|+1) [0 0]
â¤â¤™â‰ [0 1] Â¬âœ(â–½1_0|+1) [0 0]
â¤â¤™â‰ [] + âˆ©â‹¯ 0 1
â¤â¤™â‰ [1] â¬š0+ âˆ©â‹¯ 0 1
â¤â¤™â‰ [] â‰  âˆ©â‹¯ 0 1
â¤â¤™â‰ [1] â¬š0â‰  âˆ©â‹¯ 0 1

# Dip
â¤â¤™â‰ [1 5] [âŠ™+ 1 2 3]
â¤â¤™â‰ [1 2 7] [âŠ™âŠ™+ 1 2 3 4]
â¤â¤™â‰ {1 {2 {3 {4 5}}}} {âŠ™(â–¡â‚‚|â–¡â‚‚|â–¡â‚‚)} 1 2 3 4 5

# Below
â¤â¤™â‰ [6 1 2 3] [â—¡(++)] 1 2 3
â¤â¤™â‰ [Â¯1 2 1 2] [Â¯â—¡âŠ™âˆ˜] 1 2

# Fork
â¤â¤™â‰ [8 2] [âŠƒ+- 3 5]
â¤â¤™â‰ [13 3 40 1.6] [âŠƒâŠƒâŠƒ+-Ã—Ã· 5 8]
â¤â¤™â‰ [8 Â¯3] [âŠƒ+Â¯ 3 5]
â¤â¤™â‰ [Â¯3 8] [âŠƒÂ¯+ 3 5]
â¤â¤™â‰ [8 2 15 4] [âŠƒ(+|-|Ã—|+1) 3 5]
â¤â¤™â‰ [8 2 15 4] [âŠƒâŠƒâŠƒ+-Ã—(+1) 3 5]
â¤â¤™â‰3 âŠƒ+() 1 2

# Empty array types
â¤â¤™â‰ 0 type[]
â¤â¤™â‰ 1 type""
â¤â¤™â‰ 2 type{}

# Two sum
â¤â¤™â‰ [0 1] âŠš/â†¥=âŠ+. [2 7 11 15] 9

# Planet notation
â¤â¤™â‰ 25 Ã—âŠƒ(+âŠ™â‹…â‹…âˆ˜)(-âŠƒâ‹…â‹…âˆ˜(Ã—â‹…âŠ™â‹…âˆ˜)) 1 2 3 4
â¤â¤™â‰ 25 Ã—âŠƒ(+âŠ™â‹…â‹…âˆ˜)â‹…(-âŠƒâ‹…âˆ˜(Ã—âŠ™â‹…âˆ˜)) 1 2 3 4

# Array construction
â¤â¤™â‰ [1] [âˆ˜] 1
â¤â¤™â‰ [[1]] [[âˆ˜]] 1
â¤â¤™â‰ [[3]] [[+]] 1 2
â¤â¤™â‰ [1 1] [.] 1
â¤â¤™â‰ [2 1] [:] 1 2
â¤â¤™â‰ [2 1 2] [â¤™] 1 2
â¤â¤™â‰ [1 2 2] [âŠ™.] 1 2
â¤â¤™â‰ [Â¯1 Â¯2] [âˆ©Â¯] 1 2
â¤â¤™â‰ [1_0_0 2_3_0 4_5_6] â¬š0[1 2_3 4_5_6]

# Switch
â¤â¤™â‰ [Â¯1 2 Â¯3 4 Â¯5] â¨¬(Â¯|âˆ˜) =0â—¿2.[1 2 3 4 5]
â¤â¤™â‰ [6 2 8 4 10] â¨¬(â‹…âˆ˜|âˆ˜) [0 1 0 1 0] [1 2 3 4 5] [6 7 8 9 10]
â¤â¤™â‰ [5 4 Â¯1 8 Â¯4] â¨¬(-|+) â—¡= [1 2 3 4 5] [6 2 2 4 1]
â¤â¤™â‰ [Â¯1 2 Â¯3 4 Â¯5] â¨¬(Â¯|âˆ˜) =0â—¿2.[1 2 3 4 5]
â¤â¤™â‰ [6 2 8 4 10] â¨¬(â‹…âˆ˜|âˆ˜) [0 1 0 1 0] [1 2 3 4 5] [6 7 8 9 10]
â¤â¤™â‰ [5 4 Â¯1 8 Â¯4] â¨¬(-|+) â—¡= [1 2 3 4 5] [6 2 2 4 1]
â¤â¤™â‰ [81 1 57 1] â¨¬(âŠ™â—Œ|1) [0 1 0 1] [81 Â¯1 57 Â¯1] [79 14 55 13]
â¤â¤™â‰ [81 14 57 13] â¨¬(âŠ™â—Œ|â—Œ) [0 1 0 1] [81 Â¯1 57 Â¯1] [79 14 55 13]
â¤â¤™â‰ 5 â¨¬(5|0 â¤.0) 0
F â† â¨¬(Â¯|+1|Ã—10|âˆ)
â¤â¤™â‰ [Â¯5 6 50 âˆ] F [0 1 2 3] 5
â¤â¤™â‰ [Â¯1_2_10_âˆ Â¯2_3_20_âˆ Â¯3_4_30_âˆ] F [..0_1_2_3] [1 2 3]
â¤â¤™â‰ [..Â¯5_6_50_âˆ] F [..0_1_2_3] 5
â¤â¤™â‰ Â°â–³0_3 â¨¬âˆ˜âˆ˜[] Â¤[1 2 3]
â¤â¤™â‰ Â°â–³0_0 â¨¬âˆ˜âˆ˜[] Â¤[]
â¤â¤™â‰ Â°â–³0_2 â¨¬âŠ‚âŠ‚ [0] 1 []
â¤â¤™â‰ Â°â–³0_2 â¨¬âŠ‚âŠ‚ [0] [] 1
â¤â¤™â‰ Â°â–³0_2 â¨¬âŠ‚âŠ‚ [] [0] 1
â¤â¤™â‰ Â°â–³0_2 â¨¬âŠ‚âŠ‚ [] [0] 1

# Character arithmatic edge cases
â¤â¤™â‰ @\0 -MaxInt @B
â¤â¤™â‰ @\_ +MaxInt @B
â¤â¤™â‰ @\0 -âˆ @B
â¤â¤™â‰ @\_ +âˆ @B

# Escape sequences
â¤â¤™â‰ 0 -@\0 @\0
â¤â¤™â‰ 9 -@\0 @\t
â¤â¤™â‰ 10 -@\0 @\n
â¤â¤™â‰ 13 -@\0 @\r
â¤â¤™â‰ 34 -@\0 @"
â¤â¤™â‰ 39 -@\0 @\'
â¤â¤™â‰ 65 -@\0 @A
â¤â¤™â‰ 92 -@\0 @\\
â¤â¤™â‰ 97 -@\0 @a
â¤â¤™â‰ 27 -@\0 @\x1b
â¤â¤™â‰ 4096 -@\0 @\u1000
â¤â¤™â‰ 1 -@\0 @\u{1}
â¤â¤™â‰ 16 -@\0 @\u{10}
â¤â¤™â‰ 256 -@\0 @\u{100}
â¤â¤™â‰ 4096 -@\0 @\u{1000}
â¤â¤™â‰ 65536 -@\0 @\u{10000}
â¤â¤™â‰ 1048576 -@\0 @\u{100000}

# Fill boundaries
â¤â¤™â‰ [0 1 2 3] â¬š0/âŠ‚ [1 2 3]
â¤â¤™â‰ [0 1 2 3] â¬š0(/âŠ‚) [1 2 3]
â¤â¤™â‰ [0 1 2 3] â¬š0((/âŠ‚)) [1 2 3]

F â† /âŠ‚
â¤â¤™â‰ [1 2 3] â¬š0F [1 2 3]
F â† â¬šÂ°â—Œ/âŠ‚
â¤â¤™â‰ [0 1 2 3] â¬š0F [1 2 3]
M! â† /^0
â¤â¤™â‰ [1 2 3] â¬š0M!âŠ‚ [1 2 3]
M! â† â¬šÂ°â—Œ/^0
â¤â¤™â‰ [0 1 2 3] â¬š0M!âŠ‚ [1 2 3]
M! â†^ $"/_"âŠ¢
â¤â¤™â‰ [0 1 2 3] â¬š0M!âŠ‚ [1 2 3]
M! â†^ $"â¬šÂ°â—Œ/_"âŠ¢
â¤â¤™â‰ [0 1 2 3] â¬š0M!âŠ‚ [1 2 3]

F â† (â£Â°â—Œ0)
â¤â¤™â‰ 8 â¬š8F

# Proxy values/empty type checking
F â† +@A âŠŸ.
â¤â¤™â‰ âŠ‚:2_1 âŸœ(âŠ‚âŠƒâ–³typeâ‰¡Fâ‡¡)2
â¤â¤™â‰ âŠ‚:2_1 âŸœ(âŠ‚âŠƒâ–³typeâ‰¡Fâ‡¡)1
â¤â¤™â‰ âŠ‚:2_1 âŸœ(âŠ‚âŠƒâ–³typeâ‰¡Fâ‡¡)0
â¤â¤™â‰ [0 3] â–³ â‰¡âœâ–½âˆ˜ â†¯0_3 1 Â¤"abc"
â¤â¤™â‰ [0 3] â–³â‰¡âœ(Â°âŠŸâ–½): â†¯0_3[1_1_0] Â¤"abc"
â¤â¤™â‰ âŸœ(âœâ–½â‰¡(Â°âŠ¸âŠ¢@0) [0 0]) ["ab" "cd"]
â¤â¤™â‰ [3 5] â‰¡â—‡âŠ¢ {[3 4] [5 6]}
â¤â¤™â‰ [] â‰¡â—‡âŠ¢ {}
â¤â¤™â‰ [7_9 8_1] [â‰¡â—‡âŠ¢â‚‚] {[7 8] [9 1]}
â¤â¤™â‰ Â°â–³ 2_0 [â‰¡â—‡âŠ¢â‚‚] {}

# Filled inverses
â¤â¤™â‰ 0 â¬š0Â°â—Œ
â¤â¤™â‰ [0 1] â¬š[0 1]Â°â—Œ
â¤â¤™â‰ [[1_2 3_0] [1_2 4_0]] â¬š0â‰¡(â¬šÂ°â—ŒâŠŸ1_2) [3 4]
F â† âœâ¬š0âŠ[] âŠ¸âŠ—0
â¤â¤™â‰ {3_2 0} {F} 3_2

# Un chains
â¤â¤™â‰ [2 2] Â°/Ã— 4
â¤â¤™â‰ 4 Â°Â°/Ã— 4
â¤â¤™â‰ [2 2] Â°Â°Â°/Ã— 4
â¤â¤™â‰ 4 Â°Â°Â°Â°/Ã— 4
â¤â¤™â‰ [2 2] Â°Â°Â°Â°Â°/Ã— 4
â¤â¤™â‰ 4 Â°Â°Â°Â°/Ã— 4
â¤â¤™â‰ 3 Â°Â°+ 1 2
â¤â¤™â‰ 3 Â°Â°Â°Â°Â°Â°+ 1 2

# Anti anti
â¤â¤™â‰ 7 âŒâŒ+ 2 5
â¤â¤™â‰ 7 âŒ(âŒ+âˆ˜) 2 5
â¤â¤™â‰ 7 âŒ(âˆ˜âŒ+) 2 5

# Primes
â¤â¤™â‰ â†¯0_1e Â°/Ã— [1]
â¤â¤™â‰ Â¤Â¤2 Â°/Ã— [2]

# Backward
â¤â¤™â‰ 2_1 ËœâŠŸ 1 2
â¤â¤™â‰ [1_3 2_4] [Ëœâˆ©âŠŸ] 1 2 3 4

# On-inverses
â¤â¤™â‰ [3 2] [Â°âŸœ+ 3 5]
â¤â¤™â‰ [3 2] [Â°âŸœÃ— 3 6]
â¤â¤™â‰ [3 8] [Â°âŸœ- 3 5]
â¤â¤™â‰ [3 18] [Â°âŸœÃ· 3 6]
â¤â¤™â‰ [3 2] [Â°âŸœ(+?) 3 5]
â¤â¤™â‰: [3 5] [Â°âŸœâ†¥ âŸœâ†¥ 3 5]
â¤â¤™â‰: [5 3] [Â°âŸœâ†§ âŸœâ†§ 5 3]
â¤â¤™â‰ [1_2 3_4] [Â°âŸœâŠ‚ 1_2 1_2_3_4]

# By-inverses
Test! â† â¤â¤™â‰ âŠƒâŠŸ(âœÃ—â…1e12[âŠ¸^0Â°âŠ¸^0]) 2 5
Test!+
Test!-
Test!(-:)
Test!Ã—
Test!Ã·
Test!(Ã·:)
Test!â¿
Test!(â¿:)
Test!â‚™
Test!(â‚™:)

# Anti/contra couple
â¤â¤™â‰ 2 âŒâŠŸ 1 [1 2]
â¤â¤™â‰ 1 âŠ™â—ŒÂ°âŠ¸âŠŸ [1 2] 2

# Select inverses
â¤â¤™â‰ [0 1 1 2] âŠ™â—ŒÂ°âŠ¸âŠ [1 2 2 3] [1 2 3 2]
â¤â¤™â‰ [0 0 0] âŠ™â—ŒÂ°âŠ¸âŠ [..1_2] [1_2 3_4 1_2]
â¤â¤™â‰ 0 âŠ™â—ŒÂ°âŠ¸âŠ 5 5
â¤â¤™â‰ [......15 7] âŠ™â—ŒÂ°âŠ¸âŠ "fffffff7" "0123456789abcdef"

â¤â¤™â‰ "c-b-a" â—Œâ¬š@-Â°âŸœâŠ [4 2 0] "abc"
â¤â¤™â‰ "b-c-a" â—Œâ¬š@-Â°âŸœâŠ [4 0 2] "abc"
â¤â¤™â‰ "-abcde----f" â—Œâ¬š@-Â°âŸœâŠ [1_2 3_4 5_10] ["ab" "cd" "ef"]
â¤â¤™â‰ ["--""ab""cd""ef"] â—Œâ¬š@-Â°âŸœâŠ [1 2 3] ["ab" "cd" "ef"]
â¤â¤™â‰ [1] â—ŒÂ°âŸœâŠ 0_0 1_1

# Pick inverses
â¤â¤™â‰ [0 0 5] â—Œâ¬š0Â°âŸœâŠ¡ 2 5
â¤â¤™â‰ [0_0_0_0 0_0_0_6 0_0_5_0] â—Œâ¬š0Â°âŸœâŠ¡ [2_2 1_3] 5_6
â¤â¤™â‰ [.[...0_0][0_0 0_0 0_0 5_6]] â—Œâ¬š0Â°âŸœâŠ¡ 2_3 5_6
â¤â¤™â‰ [0_0_0 0_0_5] â—Œâ¬š0Â°âŸœâŠ¡ 1_2 5
â¤â¤™â‰ [4_1 2_3] â—ŒÂ°âŸœâŠ¡ [0_1 1_0 1_1 0_0] 1_2_3_4

# General on inverse
F â† Ã—2+1
â¤â¤™â‰ [1 4] [Â°âŸœ(F+) âŸœ(F+) 1 4]
â¤â¤™â‰ [1 4] [Â°âŸœ(+F) ? âŸœ(+F) 1 4]
â¤â¤™â‰ [1 4] [Â°âŸœ(F+F) âŸœ(F+F) 1 4]

# Various bindings
X â† |0 5
â¤â¤™â‰ 5 X
6

X â† |0
â¤â¤™â‰ 6 X
X â† |0.3 1 2 3
â¤â¤™â‰ [1 2 3] [X]
1 2 3

X â† |0
â¤â¤™â‰ [1] [X]
â—Œâ—Œ
â¤â¤™â‰ [1 10] X_10

G â†š +1
F â† G

F â†
â‰¡F

4
a â† ()
â¤â¤™â‰ 4

FooâŒŸ â† 5
â¤â¤™â‰ 5 FooâŒŸ

# Constant vs Noadic function
F â† âš‚
G â† (âš‚)

â¤â¤™â‰ 1 â§»â—´ [F F F]
â¤â¤™â‰ 3 â§»â—´ [G G G]

F â† (âš‚)
G â† F
â¤â¤™â‰ G G

# Euler's identity
â¤â¤™â‰ 0 âœ(Ã—1e12)â… âŒµ+1 â¿Ã—iÏ€ e

# Format strings
â¤â¤™â‰ "5" $"_" 5
â¤â¤™â‰ "1, 2, 3" $"_, _, _" 1 2 3
â¤â¤™â‰ "1 + 2 = 3" $"_ + _ = _" âŠƒâŠ™âˆ˜+ 1 2
â¤â¤™â‰ ["foo5" "bar5"] âŠŸâŠƒ$"foo_"$"bar_" 5
$ Multi _
$ _ line
â¤â¤™â‰ "Multi _\n_ line"
"foo" "bar"
$$ Multi _
$$ _ line
â¤â¤™â‰ "Multi foo\nbar line"
â¤â¤™â‰ "[[0 1 2] [3 4 5]]" $"_" Â°â–³2_3
â¤â¤™â‰ "{1â†’4 2â†’5 3â†’6}" $"_" map 1_2_3 4_5_6
â¤â¤™â‰ âŸœ$"_" "hi"
â¤â¤™â‰ "[\"foo\" \"bar\"]" $"_" ["foo" "bar"]
â¤â¤™â‰ "[\"foo\" \"bar\"]" $"_" {"foo" "bar"}

[1 Â¯5 +0.1 0.2 Ï€ âˆ NaN]
â¤â¤™â‰ âŸœâ‰¡(â‹•Â°â‹•).
â¤â¤™â‰ âŸœâ‰¡(â‹•$"_")

# Un reduce format strings
â¤â¤™â‰ {"a" "bcd" "ef"} Â°/$"_ - _" "a - bcd - ef"
â¤â¤™â‰ âŸœ(/$"_b_" Â°/$"_b_") "abbc"
â¤â¤™â‰ âŸœ(/$"_ab_" Â°/$"_ab_") "abab"

# Try
{"cat" "sand"} "dog" {"cat" "cats" "and" "sand" "dog"}
â¤â¤™â‰ {{"cat" "sand"} {"dog"} {""}} {âŠ™(âˆ©â–½âŸœ:â‰¡Â°â–¡âšâ£(1Â°.âŠ™âŠƒâ†™â†˜âŸœâ§»|0âŠ™âˆ˜):Â¤)}
â¤â¤™â‰ [2 2] [â£âˆšâ‹…. 4 2]
â¤â¤™â‰ [3] [â£(â‹…2â¤.0)3] 1

F â† â£â¨¬(â¤.$"_"|Â¯)â‹…â‹…âˆ˜
â¤â¤™â‰ "5" F 0 5
â¤â¤™â‰ Â¯5 F 1 5

# Pattern matching
â¤â¤™â‰ 2 Â°[1âŠ™3] [1 2 3]
â¤â¤™â‰ [1 2 4 5] [Â°[âŠ™âŠ™(3âŠ™âˆ˜)] [1 2 3 4 5]]
â¤â¤™â‰ 2 Â°(âŠ‚0[1âŠ™3]) [0 1 2 3]
â¤â¤™â‰ {"1" "2"} {Â°$"_ - _"} "1 - 2"
â¤â¤™â‰ {"1" " " "2"} {Â°$"_ -__"} "1 - 2"
â¤â¤™â‰ {"5"} {Â°$"_"} "5"
â¤â¤™â‰ {} {Â°$"wow"} "wow"
â¤â¤™â‰ {"1" "2\n5"} {Â°$"_-_" "1-2\n5"}
â¤â¤™â‰ 1 Â°. 1 1
â¤â¤™â‰ 5 Â°Â¤ [5]
â¤â¤™â‰ [5] [Â°âŸœ(+3) 5 8]
â¤â¤™â‰ [1 2 3] Â°(â†¥1) [1 2 3]
â¤â¤™â‰ 0 â£Â°(â†§ 1)0 [1 2 3]
â¤â¤™â‰ [1 2 3] Â°(â†¥â„‚0 0) [1 2 3]
â¤â¤™â‰ [1 2 3] Â°(â†§â„‚4 4) [1 2 3]
â¤â¤™â‰ 2 Â°(âŠŸ.) [2 2]
Â°(+1 2) 3
F â† {âŠ“$A$B} # Track caller!
Â°(F 1 2) F 1 2

# Wildcard
â¤â¤™â‰ [W 2 3] [1 2 3]
â¤â¤™â‰ [1 W 3] [1 2 3]
â¤â¤™â‰ "hello" "he\Wlo"

# Complex
â¤â¤™â‰ i â„‚1 0
â¤â¤™â‰ â„‚0 4 â—¿ 5 â„‚0 Â¯1
â¤â¤™â‰ Ã—2i âˆš â„‚0Â¯4
â¤â¤™â‰ Ã—2i âœÃ—â…1e15 â¿1/2 â„‚0Â¯4
â¤â¤™â‰ 0 Â°(â„‚1) i
â¤â¤™â‰ â„‚.0 âŒâ„‚1 i

# Memo
F â† memo(+âŒŠÃ—10âš‚)
â¤â¤™â‰ F1 F1
â¤â¤™â‰ F5 F5

# Recursion
Fact â† |1 â¨¬(Ã—Fact-1.|1)<2.
â¤â¤™â‰ 120 Fact 5
A â† |1 â¨¬(+âŠƒ(A-1|A-2)|1)<2.
â¤â¤™â‰ 21 A 7
B â† |1 (â¨¬(+âŠƒ(B-1|B-2)|1)<2.)
â¤â¤™â‰ 21 B 7

# On
â¤â¤™â‰ [1 1 3] [âŸœâŠ™â‹…âŠ™â—Œ 1 2 3 4]
â¤â¤™â‰ [1 1 2 2 4] [âŸœâŠ™âŸœâŠ™â‹…âˆ˜ 1 2 3 4]
â¤â¤™â‰ [1 3] [âŸœ3 1]

â¤â¤™â‰ [1 2 3 4] [âŸœâ‚‚+ 1 2 4]
â¤â¤™â‰ [1 2 7] [âŸœâ‚‚(++) 1 2 4]

â¤â¤™â‰ {1 2 {1 2 [1 2 3]}} {âŸœâ‚‚({âŠ™âŠ™âˆ˜}|[âŠ™âŠ™âˆ˜]) 1 2 3}

# By
â¤â¤™â‰ [0 5] [âŠ¸0] 5
â¤â¤™â‰ [8 5] [âŠ¸+] 3 5
â¤â¤™â‰ [6 3] [âŠ¸(++)] 1 2 3

â¤â¤™â‰ [3 1 2 4] [âŠ¸â‚‚+ 1 2 4]
â¤â¤™â‰ [7 2 4] [âŠ¸â‚‚(++) 1 2 4]

# With
â¤â¤™â‰ [5 Â¯3 5] [â¤™Â¯ 3 5]
â¤â¤™â‰ [3 5 Â¯3 5] [âŸœâ¤™Â¯ 3 5]
â¤â¤™â‰ [5 8] [â¤™+ 3 5]
â¤â¤™â‰ [4 1 2 3 4] [â¤™âŠ™âŠ™âŠ™âˆ˜ 1 2 3 4]
â¤â¤™â‰ [4 1 2 3] [â¤™âŠ™âŠ™âŠ™â—Œ 1 2 3 4]
â¤â¤™â‰ [2 1 2 3] [â¤™1 2 3]

â¤â¤™â‰ [1 2 3 4] [â¤™â‚‚+ 1 2 4]
â¤â¤™â‰ [2 4 7] [â¤™â‚‚(++) 1 2 4]

# Off
â¤â¤™â‰ [Â¯3 5 3] [â¤šÂ¯ 3 5]
â¤â¤™â‰ [Â¯3 5 3 5] [âŠ¸â¤šÂ¯ 3 5]
â¤â¤™â‰ [8 3] [â¤š+ 3 5]
â¤â¤™â‰ [1 2 3 4 1] [â¤šâŠ™âŠ™âŠ™âˆ˜ 1 2 3 4]
â¤â¤™â‰ [2 3 4 1] [â¤šâ‹…âŠ™âŠ™âˆ˜ 1 2 3 4]
â¤â¤™â‰ [1 2 1 3] [â¤š1 2 3]

â¤â¤™â‰ [3 1 2 4] [â¤šâ‚‚+ 1 2 4]
â¤â¤™â‰ [7 1 2] [â¤šâ‚‚(++) 1 2 4]

# Anti call
F â† âŒ…(+|-) # Track Caller!
â¤â¤™â‰ 7 F 2 5
â¤â¤™â‰ 3 âŒF 2 5

# Composition with contra inverse
F â† âœâŠ¢Â¯ âŠâŠ™"nubtqphsoe" -@0 Â°â‹•
â¤â¤™â‰ âŸœ(Â°F F) 118

# Contra flip as anti inverse
â¤â¤™â‰ 2 âŒ(âŠ:) [10 11 12 13] 12
â¤â¤™â‰ {[10 11 12 13] 2} {Â°âŸœ(âŠ:)} [10 11 12 13] 12
â¤â¤™â‰ 2 Â°(âŠ:[1 2 3 4]) 3

# ThisFile
â¤â¤™â‰ $"tests_units.ua" Sep ThisFile
â¤â¤™â‰ ThisFile /â—‡âŠ‚ {ThisFileDir Sep ThisFileName}
â—Œ&fras /â—‡âŠ‚ {WorkingDir Sep ThisFile}
â—Œ&fras /â—‡âŠ‚ {WorkingDir Sep ThisFileDir Sep ThisFileName}

# Pointer equality
â¤â¤™â‰ 1 â‰ NULL NULL
â¤â¤™â‰ 0 â‰ NULL []
â¤â¤™â‰ 0 â‰ [] NULL

# Algebra
â¤â¤™â‰ 6.5 Â°(Ã—+1.) 48.75
â¤â¤™â‰ 2 Â°(Ã—âŠƒ(+1|Ã—2)) 12
â¤â¤™â‰ 5 Â°(++âŠƒ(Ã—.|Ã—Â¯2|Â¯5)) 10
â¤â¤™â‰ 10 Â°(+âˆ©(Ã—.)+1.) 221

# Un both
â¤â¤™â‰ [1 2 3 4] [Â°âˆ©âŠŸ] 1_2 3_4
â¤â¤™â‰ {1 [2] 3 [4]} {Â°âˆ©âŠ‚} 1_2 3_4

# Un bracket
â¤â¤™â‰ [1 2 3 4] [Â°âŠ“âŠŸâŠŸ] 1_2 3_4
â¤â¤™â‰ {1 2 3 [4]} {Â°âŠ“âŠŸâŠ‚} 1_2 3_4

# Un with
â¤â¤™â‰ [3 5] [Â°â¤™+ â¤™+] 3 5
â¤â¤™â‰ [3 5] [Â°â¤™- â¤™-] 3 5
# Un off
â¤â¤™â‰ [3 5] [Â°â¤š+ â¤š+] 3 5
â¤â¤™â‰ [3 5] [Â°â¤š- â¤š-] 3 5

# Subscript both
â¤â¤™â‰ [] [âˆ©â‚€+]
â¤â¤™â‰ [3] [âˆ©â‚+ 1 2]
â¤â¤™â‰ [3 7] [âˆ©â‚‚+ 1 2 3 4]
â¤â¤™â‰ [3 7 11] [âˆ©â‚ƒ+ 1 2 3 4 5 6]
â¤â¤™â‰ [3 7 11 15] [âˆ©â‚„+ 1 2 3 4 5 6 7 8]
â¤â¤™â‰ 10 âˆ©â‚â‚€â—Œ Â°âŠŸâ‚â‚â‡¡11
â¤â¤™â‰ 20 âˆ©â‚â‚€(â—Œâ—Œ) Â°âŠŸâ‚‚â‚â‡¡21

# Spawn/pool/wait
â¤â¤™â‰ waitâ‰¡pool(1 âˆ˜) 2_3 â‰¡(âŠŸ1 âˆ˜) 2_3
â¤â¤™â‰ [1 2 3] waitpool(1 2 3)
â¤â¤™â‰ âŸœ(waitâ‰¡poolâˆ˜) â‡¡1000

# Path
â¤â¤™â‰âŠƒ(
  {âŠ¢âˆ˜path(+âŠ‚âŸœÂ¯â‹¯1_2Â¤)â‰}
| {âŠ¢path(+âŠ‚âŸœÂ¯â‹¯1_2Â¤)â‰}
) 0_0 3_5
â¤â¤™â‰âŠƒ(
  âŠ¢âˆ˜path(+âŠ‚âŸœÂ¯â‹¯1_2Â¤|â‰|âŒµ/â„‚-)
| âŠ¢path(+âŠ‚âŸœÂ¯â‹¯1_2Â¤|â‰|âŒµ/â„‚-)
) 0_0 3_5
â¤â¤™â‰ 201 â§»âŠ¢path(+â‹¯1_2Â¤|â‰100_100) 0_0
â¤â¤™â‰ 1 Â¬â‰0â¬š0âŠ¢path(+â‡¡10|=1e4) 0
â¤â¤™â‰ [0 0] â–³ pathâ‹…[]0 0
â¤â¤™â‰ [0 0 3] â–³ pathâ‹…[]0 1_2_3
â¤â¤™â‰ {{} âˆ} {path(Â°âŠâ‹…[])0} 1_2_3
â¤â¤™â‰ [0 3] â–³ â†™0 path(++1â‡¡10|=15) 0
â¤â¤™â‰ [1 3] â–³ â†™1 path(++1â‡¡10|=15) 0
â¤â¤™â‰ [2 3] â–³ â†™2 path(++1â‡¡10|=15) 0

$ ########
$ ##...###
$ ##.#..E#
$ #S.##.##
$ ##.##.##
$ ##....##
$ ########
Dirs â† [â—¡âˆ©Â¯ âŸœâ‡Œ 0_1]
âŠƒ(âŠŸ0_0 âŠ¢âŠš=@S|âŠ¢âŠš=@E|âŠšâ‰ @#) âŠœâˆ˜âŠ¸â‰ @\n
path(
  âˆ©âŠ‚âŠ™: âŠƒ(â‰¡âŠ¸1000â‰¡âŠŸâŠ™Â¤DirsâŠ£|â‰¡âŠ¸1 â–½âŠƒ(âˆŠâŠ™âŠ£:)Â¤\+) âŠ™â‹…âˆ˜
| â‰âŠ£
| âŒµ/â„‚-âŠ£)
â¤â¤™â‰ [1 5008] âŠŸâ§»

# Experimental!

# Above
â¤â¤™â‰ [1 2 3 6] [â— (++)] 1 2 3
â¤â¤™â‰ [1 2 Â¯1 2] [â— (Â¯âŠ™âˆ˜)] 1 2

# Reach
â¤â¤™â‰ 4 ğ„+ 1 2 3
â¤â¤™â‰ {@b "acd"} {ğ„âŒâŠŸâ‚ƒ} @a@b@c@d
â¤â¤™â‰ {"acd" @b} {ğ„âŒŸâŠŸâ‚ƒ} @a@b@c@d

# Derivative
â¤â¤™â‰ 10 âˆ‚(Ã—.) 5
â¤â¤™â‰ 1.5 âˆ‚âˆš 1/9
â¤â¤™â‰ [Â¯2 0 2] âˆ‚(++âŠƒ(â¿2|Ã—Â¯2|Â¯4)) [0 1 2]
â¤â¤™â‰ âŠš10 âˆ‚â‹…6 â‡¡10
â¤â¤™â‰ â—ŒâŠƒÂ°âˆ âˆ‚âˆ¿ Ã—Ï„ Ã·âŸœâ‡¡ 16
â¤â¤™â‰ â†¯10 0.2 âˆ‚(Ã·5) â‡¡10

# Integral
â¤â¤™â‰ 9 âˆ«(Ã—.) 3
â¤â¤™â‰ [2/3 16/3] âˆ«âˆš [1 4]
â¤â¤™â‰ 14 âˆ«(+5Ã—2) 2
â¤â¤™â‰ 24 âˆ«(+1) 6
â¤â¤™â‰ Ã—6â‡¡10 âˆ«â‹…6 â‡¡10
â¤â¤™â‰ Â¯â—ŒâŠƒÂ°âˆ âˆ«âˆ¿ Ã—Ï„ Ã·âŸœâ‡¡ 16

# Sided fill
â¤â¤™â‰ [1_2_3 0_4_5 0_0_6] â¬šâŒ0[1_2_3 4_5 6]
â¤â¤™â‰ [1 2 53 64] â¬šâŒ0+[1 2 3 4] [50 60]
â¤â¤™â‰ [1 2 50 60] â¬šâŒ0â†¥ [1 2 3 4] [50 60]
â¤â¤™â‰ [
  "   1.1"
  "  20  "
  " 300  "
  "4000.5"
] â¬š@ Â°â‹• [1.1 20 300 4000.5]
â¤â¤™â‰ [
  "1.1   "
  "20    "
  "300   "
  "4000.5"
] â¬šâŒŸ@ Â°â‹• [1.1 20 300 4000.5]

# Lexical correctness
â¤â¤™â‰ [âŠƒ(1|2)] [âŠƒâ†“(1|2)]
[âŠƒâ†“(1
  | 2)]
[(1
  2)]
â¤â¤™â‰

â†“[1 2
  3 4]
[(1 2
  3 4)]
â¤â¤™â‰
